<div class="container">
    <div class="image-container">
        @if (!imageUrl){
            <p>Selecciona una imagen</p>
        }
        @if (imageUrl) {
            <div class="image-container">
                <img [src]="imageUrl" alt="Uploaded" class="image"/>
            </div>
        }
        @if (prediction$ | async; as predictions) {
            @if (predictions.length > 0) {
                <div class="prediction-box">
                    <p class="category-text">{{predictions[0].category | uppercase}}</p>
                    <p class="category-accuracy">{{predictions[0].score | percent: '1.1-1'}} Accuracy</p>
                </div>
            }
        }

        @if (error$ |async; as error) {
            <p class="error">{{error}}</p>
        }

        <input type="file" (change)="onFileSelected($event)" accept="image/*">
        <button (click)="uploadImage()" [disabled]="!selectedFile">
            {{(imageUrl ? 'Identique una Imagen':'Actualizar imagen')}}
        </button>

        @if (loading$ | async) {
            <p>Procesing imagen...</p>
        }

    </div>
</div>